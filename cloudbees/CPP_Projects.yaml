# EPICS V4 C++ Jenkins Jobs (aka job builder projects) on CloudBees
#
# Jenkins Job Builder configuration
#
# Author: Ralph Lange <ralph.lange@gmx.de>
# Copyright (C) 2015 ITER Organization.
# All rights reserved. Use is subject to license terms.

- project:
    name: pvCommonCPP
    repo: '{name}'
    module: pvCommon
    jobs:
        - '{name}-lib-jobs':
            extra-description: ', built with Micro-Benchmarks'
            downstream: 'pvAccessCPP_Build,normativeTypesCPP_Build,pvaSrvCPP_Build,exampleCPP_Build'
            microbench_axis:
                - MB_YES

- project:
    name: pvDataCPP
    repo: '{name}'
    module: pvData
    jobs:
        - '{name}-lib-jobs':
            downstream: 'pvAccessCPP_Build,normativeTypesCPP_Build,pvaSrvCPP_Build,pvDatabaseCPP_Build,exampleCPP_Build'

- project:
    name: pvAccessCPP
    repo: '{name}'
    module: pvAccess
    jobs:
        - '{name}-lib-jobs':
            extra-description: ', with or without Micro-Benchmarks'
            downstream: 'pvaSrvCPP_Build,exampleCPP_Build,pvDatabaseCPP_Build,pvaClientCPP_Build'
            microbench_axis:
                - MB_YES
                - MB_NO

- project:
    name: normativeTypesCPP
    repo: '{name}'
    module: normativeTypes
    jobs:
        - '{name}-lib-jobs':
            downstream: 'pvaClientCPP_Build'

- project:
    name: pvaClientCPP
    repo: '{name}'
    module: pvaClient
    jobs:
        - '{name}-lib-jobs':

- project:
    name: pvaPy
    repo: '{name}'
    module: '{name}'
    jobs:
        - '{name}-lib-jobs':
            language: 'C++/Python'

- project:
    name: pvaSrvCPP
    repo: pvaSrv
    module: pvaSrv
    jobs:
        - '{name}-lib-jobs':
            downstream: 'pvDatabaseCPP_Build'

- project:
    name: pvDatabaseCPP
    repo: '{name}'
    module: pvDatabase
    jobs:
        - '{name}-lib-jobs':

- project:
    name: exampleCPP
    repo: '{name}'
    module: example
    jobs:
        - '{name}-prod-jobs':
