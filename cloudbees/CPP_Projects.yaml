# EPICS V4 C++ Jenkins Jobs (aka job builder projects) on CloudBees
#
# Jenkins Job Builder configuration
#
# Author: Ralph Lange <ralph.lange@gmx.de>
# Copyright (C) 2015 ITER Organization.
# All rights reserved. Use is subject to license terms.

- project:
    name: pvCommonCPP
    jobs:
        - '{name}-lib-jobs':
            repo: '{name}'
            module: pvCommon
            extra-description: ', built with Micro-Benchmarks'
            downstream: 'pvAccessCPP_Build,normativeTypesCPP_Build,pvaSrvCPP_Build,exampleCPP_Build'
            microbench_axis:
                - MB_YES

- project:
    name: pvDataCPP
    jobs:
        - '{name}-lib-jobs':
            repo: '{name}'
            module: pvData
            downstream: 'pvAccessCPP_Build,normativeTypesCPP_Build,pvaSrvCPP_Build,pvDatabaseCPP_Build,exampleCPP_Build'

- project:
    name: pvAccessCPP
    jobs:
        - '{name}-lib-jobs':
            repo: '{name}'
            module: pvAccess
            extra-description: ', with or without Micro-Benchmarks'
            downstream: 'pvaSrvCPP_Build,exampleCPP_Build,pvDatabaseCPP_Build,pvaClientCPP_Build'
            microbench_axis:
                - MB_YES
                - MB_NO

- project:
    name: normativeTypesCPP
    jobs:
        - '{name}-lib-jobs':
            repo: '{name}'
            module: normativeTypes
            downstream: 'pvaClientCPP_Build'

- project:
    name: pvaClientCPP
    jobs:
        - '{name}-lib-jobs':
            repo: '{name}'
            module: pvaClient

- project:
    name: pvaSrvCPP
    jobs:
        - '{name}-lib-jobs':
            repo: pvaSrv
            module: pvaSrv
            downstream: 'pvDatabaseCPP_Build'

- project:
    name: pvDatabaseCPP
    jobs:
        - '{name}-lib-jobs':
            repo: '{name}'
            module: pvDatabase

- project:
    name: exampleCPP
    jobs:
        - '{name}-prod-jobs':
            repo: '{name}'
            module: example
